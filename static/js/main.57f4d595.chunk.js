(this["webpackJsonpnow-showing-movies"]=this["webpackJsonpnow-showing-movies"]||[]).push([[0],{21:function(e,t,n){e.exports={wrapper:"Card_wrapper__1V7DQ",card:"Card_card__35wN0",description:"Card_description__33vK6",title:"Card_title__Ip0in"}},22:function(e,t,n){e.exports=n.p+"static/media/logo.31d26327.svg"},41:function(e,t,n){e.exports={header:"Header_header__1v0yI"}},42:function(e,t,n){e.exports={main:"Main_main__3JhNz"}},43:function(e,t,n){e.exports={footer:"Footer_footer__7dIj9"}},44:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__3qUkX"}},50:function(e,t,n){e.exports={cards:"Cards_cards__2PUIK"}},55:function(e,t,n){e.exports=n(83)},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(22),l=n.n(c),s=n(41),u=n.n(s),d=function(){return a.a.createElement("header",{className:u.a.header},a.a.createElement("img",{src:l.a,alt:"themoviedb_logo"}))},p=n(42),v=n.n(p),g=function(e){return a.a.createElement("main",{className:v.a.main},e.children)},m=n(43),f=n.n(m),h=function(e){return a.a.createElement("footer",{className:f.a.footer},a.a.createElement("img",{src:l.a,alt:"themoviedb_logo"}))},y=n(44),b=n.n(y),O=n(52),j=function(e){var t=e.options,n=e.value,r=e.isMulti,o=void 0!==r&&r,i=e.change,c=e.placeholder;return a.a.createElement(O.a,{options:t,defaultValue:n,onChange:i,isMulti:o,placeholder:c})},_=n(16),E=n(46),w=n(47),P=n(14),D=n(2),S=n(31),N=n(48),C=["/movie/now_playing","/genre/movie/list"],x=n.n(N).a.create({baseURL:"https://api.themoviedb.org/3/"});x.interceptors.request.use((function(e){return Object(S.a)({},e,{params:Object(S.a)({},e.params,{api_key:"f050d4ef094a2dfdea7f0baa5264081f"})})}),(function(e){return Promise.reject(e)}));var k,A,B,G,R,M,U,T=n(8),Z=function(e,t,n){var r=t;return"ByGenres"===e?(null===n||void 0===n?void 0:n.length)>0&&(r=t.filter((function(e){return null===n||void 0===n?void 0:n.every((function(t){return e.genre_ids.includes(t)}))}))):"ByUserScore"===e&&(r=r.filter((function(e){return e.vote_average>=n}))),r},I=(k=D.f.bound,A=D.f.bound,B=D.f.bound,G=D.f.bound,R=D.f.bound,M=D.f.bound,U=function(){function e(){Object(E.a)(this,e),this.nowPlaying=null,this.genres=null,this.movieSortOrder="Popularity Descending",this.movieChosenGenres=null,this.userScore=3,this.status=null}return Object(w.a)(e,[{key:"fetchData",value:function(e){var t=this;if("pending"!==this.status){this.status="pending";var n=[C[0]];this.genres||(n=[].concat(Object(_.a)(n),[C[1]]));var r=n.map((function(t){return x.get(t,{params:{page:e}})}));Promise.all(r).then((function(e){return e.map((function(e){return e.data}))})).then((function(e){t.status="success",e[0]&&t.saveNowPlaying(e[0]),e[1]&&t.saveGenres(e[1])})).catch((function(e){t.status="error",console.error(e)}))}}},{key:"saveNowPlaying",value:function(e){this.nowPlaying?this.nowPlaying={results:[].concat(Object(_.a)(this.nowPlaying.results),Object(_.a)(e.results)),page:e.page,total_pages:e.total_pages,dates:e.dates,total_results:e.total_results}:this.nowPlaying=e}},{key:"saveGenres",value:function(e){this.genres=e.genres}},{key:"changeSortOrder",value:function(e){this.movieSortOrder=e}},{key:"changeChosenGenres",value:function(e){this.movieChosenGenres=e}},{key:"changeUserScore",value:function(e){this.userScore=e}},{key:"hasMore",get:function(){return null===this.status||Boolean((null===(e=this.nowPlaying)||void 0===e?void 0:e.total_pages)-(null===(t=this.nowPlaying)||void 0===t?void 0:t.page));var e,t}},{key:"result",get:function(){if(this.nowPlaying){var e=this.nowPlaying.results;return e=Z("ByGenres",e,this.movieChosenGenres),e=function(e,t){if("Popularity Descending"===t)return Object(T.orderBy)(e,(function(e){return e.popularity}),"desc");if("Popularity Ascending"===t)return Object(T.orderBy)(e,(function(e){return e.popularity}),"asc");if("Rating Descending"===t)return Object(T.orderBy)(e,(function(e){return e.vote_average}),"desc");if("Rating Ascending"===t)return Object(T.orderBy)(e,(function(e){return e.vote_average}),"asc");if("Release Date Descending"===t)return Object(T.orderBy)(e,(function(e){return e.release_date}),"desc");if("Release Date Ascending"===t)return Object(T.orderBy)(e,(function(e){return e.release_date}),"asc");if("Title (A-Z)"===t)return Object(T.orderBy)(e,(function(e){return e.title}),"asc");if("Title (Z-A)"===t)return Object(T.orderBy)(e,(function(e){return e.title}),"desc");throw new Error("Unknown sort order")}(e=Z("ByUserScore",e,this.userScore),this.movieSortOrder)}return null}}]),e}(),Object(P.a)(U.prototype,"fetchData",[k],Object.getOwnPropertyDescriptor(U.prototype,"fetchData"),U.prototype),Object(P.a)(U.prototype,"hasMore",[D.g],Object.getOwnPropertyDescriptor(U.prototype,"hasMore"),U.prototype),Object(P.a)(U.prototype,"result",[D.g],Object.getOwnPropertyDescriptor(U.prototype,"result"),U.prototype),Object(P.a)(U.prototype,"saveNowPlaying",[A],Object.getOwnPropertyDescriptor(U.prototype,"saveNowPlaying"),U.prototype),Object(P.a)(U.prototype,"saveGenres",[B],Object.getOwnPropertyDescriptor(U.prototype,"saveGenres"),U.prototype),Object(P.a)(U.prototype,"changeSortOrder",[G],Object.getOwnPropertyDescriptor(U.prototype,"changeSortOrder"),U.prototype),Object(P.a)(U.prototype,"changeChosenGenres",[R],Object.getOwnPropertyDescriptor(U.prototype,"changeChosenGenres"),U.prototype),Object(P.a)(U.prototype,"changeUserScore",[M],Object.getOwnPropertyDescriptor(U.prototype,"changeUserScore"),U.prototype),U);Object(D.j)(I,{nowPlaying:D.o,genres:D.o,movieSortOrder:D.o,movieChosenGenres:D.o,userScore:D.o,status:D.o});var F=a.a.createContext({movieStore:new I}),V=function(){return a.a.useContext(F)},J=n(10),q=Object(J.a)((function(){var e=V().movieStore;return a.a.createElement(j,{options:[{value:"Popularity Descending",label:"Popularity Descending"},{value:"Popularity Ascending",label:"Popularity Ascending"},{value:"Rating Descending",label:"Rating Descending"},{value:"Rating Ascending",label:"Rating Ascending"},{value:"Release Date Descending",label:"Release Date Descending"},{value:"Release Date Ascending",label:"Release Date Ascending"},{value:"Title (A-Z)",label:"Title (A-Z)"},{value:"Title (Z-A)",label:"Title (Z-A)"}],value:{value:e.movieSortOrder,label:e.movieSortOrder},change:function(t){e.changeSortOrder(t.value)}})})),H=Object(J.a)((function(){var e,t,n=V().movieStore,r=null===(e=n.genres)||void 0===e?void 0:e.map((function(e){return{value:e.id,label:e.name}})),o=null===(t=n.genres)||void 0===t?void 0:t.reduce((function(e,t){var r;return(null===(r=n.movieChosenGenres)||void 0===r?void 0:r.some((function(e){return e===t.id})))?[].concat(Object(_.a)(e),[{value:t.id,label:t.name}]):e}),[]);return a.a.createElement(j,{options:r,value:o,change:function(e){var t=null===e||void 0===e?void 0:e.map((function(e){return e.value}));n.changeChosenGenres(t)},isMulti:!0,placeholder:"Select genre..."})})),K=n(97),L=n(99),z=n(101),Q=Object(K.a)({root:{width:"100%"},p:{fontFamily:"Comic Neue, cursive"},slider:{color:"#01b4e4"}});function X(e){return"".concat(e,"\xb0C")}var W=function(e){var t=Q();return a.a.createElement("div",{className:t.root},a.a.createElement(L.a,{id:"discrete-slider",gutterBottom:!0,className:t.p},e.label),a.a.createElement(z.a,{className:t.slider,defaultValue:e.value,getAriaValueText:X,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:.5,marks:!0,min:0,max:10,onChange:function(t,n){e.change(n)}}))},Y=function(e){var t=V().movieStore,n=Object(T.debounce)(t.changeUserScore,300);return a.a.createElement(W,{label:"User Score",value:t.userScore,change:n})},$=function(){return a.a.createElement("aside",{className:b.a.sidebar},a.a.createElement(q,null),a.a.createElement(H,null),a.a.createElement(Y,null))},ee=n(21),te=n.n(ee),ne=Object(J.a)((function(e){var t,n=e.movie;return a.a.createElement("div",{className:te.a.wrapper},a.a.createElement("div",{className:te.a.card},a.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(n.poster_path),alt:n.title}),a.a.createElement("div",{className:te.a.description},a.a.createElement("span",{className:te.a.title},n.title),a.a.createElement("span",null,null===(t=e.genresText)||void 0===t?void 0:t.join(", ")))))})),re=n(30),ae=n.n(re),oe=n(50),ie=n.n(oe),ce=n(102),le=n(100),se=Object(K.a)((function(e){return Object(ce.a)({root:{width:"100%",height:"50px",margin:"20px",justifyContent:"center",display:"flex",color:"#01b4e4"}})}));function ue(){var e=se();return a.a.createElement("div",{className:e.root},a.a.createElement(le.a,{color:"inherit"}))}var de=n(51),pe=n.n(de),ve=Object(J.a)((function(){var e,t=V().movieStore;return a.a.createElement(pe.a,{pageStart:0,loadMore:t.fetchData,hasMore:t.hasMore,loader:a.a.createElement(ue,{key:ae()()}),threshold:0},a.a.createElement("div",{className:ie.a.cards},null===t||void 0===t||null===(e=t.result)||void 0===e?void 0:e.map((function(e){var n=function(e,t){return null===e||void 0===e?void 0:e.reduce((function(e,n){return t.some((function(e){return e===n.id}))?[].concat(Object(_.a)(e),[n.name]):e}),[])}(t.genres,e.genre_ids);return a.a.createElement(ne,{key:ae()(),movie:e,genresText:n})}))))})),ge=function(){return a.a.createElement("div",{className:"title"},a.a.createElement("h1",{className:"title__text"},"Now Playing Movies"))},me=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d,null,"Header"),a.a.createElement("div",{className:"container"},a.a.createElement(ge,null),a.a.createElement("div",{className:"content"},a.a.createElement($,null),a.a.createElement(g,null,a.a.createElement(ve,null)))),a.a.createElement(h,null,"Footer"))},fe=Object(J.a)((function(){return a.a.createElement(me,null)}));n(82);i.a.render(a.a.createElement(fe,null),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.57f4d595.chunk.js.map