(this["webpackJsonpnow-showing-movies"]=this["webpackJsonpnow-showing-movies"]||[]).push([[0],{23:function(e,t,n){e.exports={wrapper:"Card_wrapper__1V7DQ",card:"Card_card__35wN0",description:"Card_description__33vK6",title:"Card_title__Ip0in"}},24:function(e,t,n){e.exports=n.p+"static/media/logo.31d26327.svg"},42:function(e,t,n){e.exports={header:"Header_header__1v0yI"}},43:function(e,t,n){e.exports={main:"Main_main__3JhNz"}},44:function(e,t,n){e.exports={footer:"Footer_footer__7dIj9"}},45:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__3qUkX"}},51:function(e,t,n){e.exports={cards:"Cards_cards__2PUIK"}},56:function(e,t,n){e.exports=n(85)},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(24),s=n.n(c),l=n(42),u=n.n(l),d=function(){return a.a.createElement("header",{className:u.a.header},a.a.createElement("img",{src:s.a,alt:"themoviedb_logo"}))},p=n(43),v=n.n(p),f=function(e){return a.a.createElement("main",{className:v.a.main},e.children)},m=n(44),g=n.n(m),h=function(e){return a.a.createElement("footer",{className:g.a.footer},a.a.createElement("img",{src:s.a,alt:"themoviedb_logo"}))},y=n(45),b=n.n(y),O=n(53),j=function(e){var t=e.options,n=e.value,r=e.isMulti,o=void 0!==r&&r,i=e.change,c=e.placeholder;return a.a.createElement(O.a,{options:t,defaultValue:n,onChange:i,isMulti:o,placeholder:c})},w=n(22),E=n.n(w),_=n(17),P=n(21),D=n(31),S=n(47),N=n(48),x=n(14),C=n(2),M=n(49),k=n.n(M).a.create({baseURL:"https://api.themoviedb.org/3/"});k.interceptors.request.use((function(e){return Object(P.a)({},e,{params:Object(P.a)({},e.params,{api_key:"f050d4ef094a2dfdea7f0baa5264081f"})})}),(function(e){return Promise.reject(e)}));var A,B,G,R,U,T=n(8),L=function(e,t,n){var r=t;return"ByGenres"===e?(null===n||void 0===n?void 0:n.length)>0&&(r=t.filter((function(e){return null===n||void 0===n?void 0:n.every((function(t){return e.genre_ids.includes(t)}))}))):"ByUserScore"===e&&(r=r.filter((function(e){return e.vote_average>=n}))),r},Z=(A=C.f.bound,B=C.f.bound,G=C.f.bound,R=C.f.bound,U=function(){function e(){Object(S.a)(this,e),this.nowPlaying=null,this.genres=null,this.movieSortOrder="Popularity Descending",this.movieChosenGenres=null,this.userScore=3,this.status="initial",this.fetchListMovieGenres()}return Object(N.a)(e,[{key:"fetchData",value:function(e){this.fetchNowPlayingMovies(e)}},{key:"fetchNowPlayingMovies",value:function(){var e=Object(D.a)(E.a.mark((function e(t){var n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.status="pending",e.next=3,k.get("movie/now_playing",{params:{page:t}}).then((function(e){var t;(null===(t=n.nowPlaying)||void 0===t?void 0:t.results)?n.nowPlaying=Object(P.a)({},e.data,{results:[].concat(Object(_.a)(n.nowPlaying.results),Object(_.a)(e.data.results))}):n.nowPlaying=e.data})).catch((function(e){console.error(e),n.status="error"})).finally((function(){n.status="done"}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchListMovieGenres",value:function(){var e=Object(D.a)(E.a.mark((function e(){var t=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("genre/movie/list").then((function(e){return e.data})).then((function(e){t.genres=e.genres}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeSortOrder",value:function(e){this.movieSortOrder=e}},{key:"changeChosenGenres",value:function(e){this.movieChosenGenres=e}},{key:"changeUserScore",value:function(e){this.userScore=e}},{key:"hasMore",get:function(){return"initial"===this.status||Boolean((null===(e=this.nowPlaying)||void 0===e?void 0:e.total_pages)-(null===(t=this.nowPlaying)||void 0===t?void 0:t.page))&&"pending"!==this.status;var e,t}},{key:"result",get:function(){if(this.nowPlaying){var e=this.nowPlaying.results;return e=L("ByGenres",e,this.movieChosenGenres),e=function(e,t){if("Popularity Descending"===t)return Object(T.orderBy)(e,(function(e){return e.popularity}),"desc");if("Popularity Ascending"===t)return Object(T.orderBy)(e,(function(e){return e.popularity}),"asc");if("Rating Descending"===t)return Object(T.orderBy)(e,(function(e){return e.vote_average}),"desc");if("Rating Ascending"===t)return Object(T.orderBy)(e,(function(e){return e.vote_average}),"asc");if("Release Date Descending"===t)return Object(T.orderBy)(e,(function(e){return e.release_date}),"desc");if("Release Date Ascending"===t)return Object(T.orderBy)(e,(function(e){return e.release_date}),"asc");if("Title (A-Z)"===t)return Object(T.orderBy)(e,(function(e){return e.title}),"asc");if("Title (Z-A)"===t)return Object(T.orderBy)(e,(function(e){return e.title}),"desc");throw new Error("Unknown sort order")}(e=L("ByUserScore",e,this.userScore),this.movieSortOrder)}return null}}]),e}(),Object(x.a)(U.prototype,"fetchData",[A],Object.getOwnPropertyDescriptor(U.prototype,"fetchData"),U.prototype),Object(x.a)(U.prototype,"fetchNowPlayingMovies",[C.f],Object.getOwnPropertyDescriptor(U.prototype,"fetchNowPlayingMovies"),U.prototype),Object(x.a)(U.prototype,"fetchListMovieGenres",[C.f],Object.getOwnPropertyDescriptor(U.prototype,"fetchListMovieGenres"),U.prototype),Object(x.a)(U.prototype,"hasMore",[C.g],Object.getOwnPropertyDescriptor(U.prototype,"hasMore"),U.prototype),Object(x.a)(U.prototype,"result",[C.g],Object.getOwnPropertyDescriptor(U.prototype,"result"),U.prototype),Object(x.a)(U.prototype,"changeSortOrder",[B],Object.getOwnPropertyDescriptor(U.prototype,"changeSortOrder"),U.prototype),Object(x.a)(U.prototype,"changeChosenGenres",[G],Object.getOwnPropertyDescriptor(U.prototype,"changeChosenGenres"),U.prototype),Object(x.a)(U.prototype,"changeUserScore",[R],Object.getOwnPropertyDescriptor(U.prototype,"changeUserScore"),U.prototype),U);Object(C.j)(Z,{nowPlaying:C.o,genres:C.o,movieSortOrder:C.o,movieChosenGenres:C.o,userScore:C.o,status:C.o});var I=a.a.createContext({movieStore:new Z}),F=function(){return a.a.useContext(I)},V=n(10),J=Object(V.a)((function(){var e=F().movieStore;return a.a.createElement(j,{options:[{value:"Popularity Descending",label:"Popularity Descending"},{value:"Popularity Ascending",label:"Popularity Ascending"},{value:"Rating Descending",label:"Rating Descending"},{value:"Rating Ascending",label:"Rating Ascending"},{value:"Release Date Descending",label:"Release Date Descending"},{value:"Release Date Ascending",label:"Release Date Ascending"},{value:"Title (A-Z)",label:"Title (A-Z)"},{value:"Title (Z-A)",label:"Title (Z-A)"}],value:{value:e.movieSortOrder,label:e.movieSortOrder},change:function(t){e.changeSortOrder(t.value)}})})),q=Object(V.a)((function(){var e,t,n=F().movieStore,r=null===(e=n.genres)||void 0===e?void 0:e.map((function(e){return{value:e.id,label:e.name}})),o=null===(t=n.genres)||void 0===t?void 0:t.reduce((function(e,t){var r;return(null===(r=n.movieChosenGenres)||void 0===r?void 0:r.some((function(e){return e===t.id})))?[].concat(Object(_.a)(e),[{value:t.id,label:t.name}]):e}),[]);return a.a.createElement(j,{options:r,value:o,change:function(e){var t=null===e||void 0===e?void 0:e.map((function(e){return e.value}));n.changeChosenGenres(t)},isMulti:!0,placeholder:"Select genre..."})})),H=n(99),K=n(101),z=n(103),Q=Object(H.a)({root:{width:"100%"},p:{fontFamily:"Comic Neue, cursive"},slider:{color:"#01b4e4"}});function X(e){return"".concat(e,"\xb0C")}var W=function(e){var t=Q();return a.a.createElement("div",{className:t.root},a.a.createElement(K.a,{id:"discrete-slider",gutterBottom:!0,className:t.p},e.label),a.a.createElement(z.a,{className:t.slider,defaultValue:e.value,getAriaValueText:X,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:.5,marks:!0,min:0,max:10,onChange:function(t,n){e.change(n)}}))},Y=function(e){var t=F().movieStore,n=Object(T.debounce)(t.changeUserScore,300);return a.a.createElement(W,{label:"User Score",value:t.userScore,change:n})},$=function(){return a.a.createElement("aside",{className:b.a.sidebar},a.a.createElement(J,null),a.a.createElement(q,null),a.a.createElement(Y,null))},ee=n(23),te=n.n(ee),ne=Object(V.a)((function(e){var t,n=e.movie;return a.a.createElement("div",{className:te.a.wrapper},a.a.createElement("div",{className:te.a.card},a.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(n.poster_path),alt:n.title}),a.a.createElement("div",{className:te.a.description},a.a.createElement("span",{className:te.a.title},n.title),a.a.createElement("span",null,null===(t=e.genresText)||void 0===t?void 0:t.join(", ")))))})),re=n(51),ae=n.n(re),oe=n(104),ie=n(102),ce=Object(H.a)((function(e){return Object(oe.a)({root:{width:"100%",height:"50px",margin:"20px",justifyContent:"center",display:"flex",color:"#01b4e4"}})}));function se(){var e=ce();return a.a.createElement("div",{className:e.root},a.a.createElement(ie.a,{color:"inherit"}))}var le=n(52),ue=n.n(le),de=Object(V.a)((function(){var e,t=F().movieStore;return a.a.createElement(ue.a,{pageStart:0,loadMore:t.fetchData,hasMore:t.hasMore,loader:a.a.createElement(se,{key:"Loading"})},a.a.createElement("div",{className:ae.a.cards},null===t||void 0===t||null===(e=t.result)||void 0===e?void 0:e.map((function(e){var n=function(e,t){return null===e||void 0===e?void 0:e.reduce((function(e,n){return t.some((function(e){return e===n.id}))?[].concat(Object(_.a)(e),[n.name]):e}),[])}(t.genres,e.genre_ids);return a.a.createElement(ne,{key:e.id,movie:e,genresText:n})}))))})),pe=function(){return a.a.createElement("div",{className:"title"},a.a.createElement("h1",{className:"title__text"},"Now Playing Movies"))},ve=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d,null,"Header"),a.a.createElement("div",{className:"container"},a.a.createElement(pe,null),a.a.createElement("div",{className:"content"},a.a.createElement($,null),a.a.createElement(f,null,a.a.createElement(de,null)))),a.a.createElement(h,null,"Footer"))},fe=Object(V.a)((function(){return a.a.createElement(ve,null)}));n(84);i.a.render(a.a.createElement(fe,null),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.9f0a9f3b.chunk.js.map